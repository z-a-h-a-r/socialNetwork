{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/common/Loading/Loading.jsx","api/profileAPI.js","redux/profileReducer.js","components/common/FormsControls/FormsControls.module.scss","components/common/Loading/Loading.module.scss","commonFunctions/getRandomIntInclusive.js","components/navbar/navbar.module.scss","api/authAPI.js","redux/authReducer.js","redux/appReducer.js","redux/store.js","components/navbar/navbar.jsx","components/footer/footer.jsx","components/header/header.jsx","components/header/headerContainer.js","components/login/loginForm/loginForm.jsx","components/login/login.jsx","components/login/loginContainer.js","App.js","index.js","components/header/header.module.scss","components/footer/footer.module.scss","components/login/login.module.scss","components/login/loginForm/loginForm.module.scss","api/usersAPI.js","redux/usersReducer.js","redux/messangerReducer.js"],"names":["Element","Component","input","meta","props","error","className","st","component","Loading","ldsRoller","instance","axios","create","withCredentials","headers","baseURL","profileAPI","userId","get","then","response","data","id","status","put","typeCreatePost","typeSetProfile","typeSetStatus","typeDeletePost","initialState","profile","photos","postsData","content","sharedCount","commentsCount","postId","Date","now","createPost","type","setStatus","deletePost","getInf","dispatch","getStatus","updateStatus","resultCode","console","profileReducer","state","action","aboutMe","filter","p","module","exports","getRandomIntInclusive","min","max","Math","ceil","floor","random","authAPI","email","password","rememberMe","post","delete","typeSetAuthUserData","login","isAuth","setAuthUserData","tryLogin","authReducer","typeSetInitialize","initialized","appReducer","boolean","reducers","combineReducers","messangerPage","messangerReducer","profilePage","userPage","usersReducer","auth","form","formReducer","app","store","createStore","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","Navbar","wrapper","navbar","inner","title","ul","li","exact","to","link","activeClassName","active","Footer","footer","href","author","Header","header","logo","onClick","logout","HeaderContainer","connect","Input","LoginForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","name","span","Login","formData","stopSubmit","_error","messages","UsersContainer","React","lazy","ProfileContainer","MessengerContainer","initialize","promise","Promise","all","useEffect","fallback","path","render","location","pathname","ReactDOM","document","getElementById","usersAPI","i","nextFollowState","typeSetUsers","typeSetUsersIsFetching","typeSetFollowingIsFetching","typeToggleFollowState","users","usersIsFetching","followingIsFetching","toggleFollowStateSuccess","setUsersIsFetching","setFollowingIsFetching","getUsers","items","toggleFollowState","a","map","user","followed","isFetchingData","typeSendMessage","dialogsLinksData","time","sendMessage","message"],"mappings":"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","file":"static/js/main.b3c6e93c.chunk.js","sourcesContent":["import st from './FormsControls.module.scss'\r\n\r\nexport const Element =\r\n\tComponent =>\r\n\t({ input, meta, ...props }) => {\r\n\t\tconst hasError = meta.error\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Component {...input} {...props} className={st.component} />\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n","// ====================================================\r\n// IMPORTS\r\n// Styles\r\n\r\nimport st from './Loading.module.scss'\r\n\r\n// ====================================================\r\n// Component\r\n\r\nfunction Loading(props) {\r\n\treturn (\r\n\t\t<div className={st.ldsRoller}>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ====================================================\r\n// Exports\r\n\r\nexport default Loading\r\n","// ====================================================\r\n// IMPORTS\r\n// Main\r\nimport axios from 'axios'\r\n\r\n// ====================================================\r\n// Instance\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': '71572937-80ec-4dde-adb1-d4b106a7cc21',\r\n\t},\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n})\r\n\r\n// ====================================================\r\n// Requests\r\n\r\nexport const profileAPI = {\r\n\tgetProfileDataAPI: userId => {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => response.data)\r\n\t},\r\n\tgetStatusAPI: id => {\r\n\t\treturn instance.get(`profile/status/${id}`).then(response => response.data)\r\n\t},\r\n\tupdateStatusAPI: status => {\r\n\t\treturn instance\r\n\t\t\t.put(`profile/status`, { status })\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n}\r\n","// ====================================================\n// Types\n\nimport { profileAPI } from '../api/profileAPI'\nimport { getRandomIntInclusive } from './../commonFunctions/getRandomIntInclusive'\nconst typeCreatePost = 'CREATE-POST'\nconst typeSetProfile = 'SET-PROFILE'\nconst typeSetStatus = 'SET-STATUS'\nconst typeDeletePost = 'DELETE-POST'\n\n// ====================================================\n// Initial state\n\nlet initialState = {\n\tprofile: {\n\t\tphotos: {},\n\t\t// aboutMe: '1122',\n\t},\n\tpostsData: [\n\t\t{\n\t\t\tcontent: 'TEST',\n\t\t\tsharedCount: 0,\n\t\t\tcommentsCount: 0,\n\t\t\tpostId: Date.now(),\n\t\t},\n\t],\n}\n\n// ====================================================\n// Reducer\n\nconst profileReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase typeCreatePost: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostsData: [\n\t\t\t\t\t...state.postsData,\n\t\t\t\t\t{\n\t\t\t\t\t\t...action.content,\n\t\t\t\t\t\tsharedCount: 0,\n\t\t\t\t\t\tcommentsCount: 0,\n\t\t\t\t\t\tpostId: Date.now(),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t}\n\t\tcase typeSetProfile: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...state.profile,\n\t\t\t\tprofile: action.profile,\n\t\t\t}\n\t\t}\n\t\tcase typeSetStatus: {\n\t\t\treturn {\n\t\t\t\t...state,\n\n\t\t\t\tprofile: {\n\t\t\t\t\t...state.profile,\n\t\t\t\t\taboutMe: action.status,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\t\tcase typeDeletePost: {\n\t\t\treturn {\n\t\t\t\t...state,\n\n\t\t\t\tpostsData: state.postsData.filter(p => p.postId != action.postId),\n\t\t\t}\n\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n// ====================================================\n// Action creators\n\nexport const createPost = content => ({ type: typeCreatePost, content })\n\nexport const setProfile = profile => ({\n\ttype: typeSetProfile,\n\tprofile,\n})\nexport const setStatus = status => ({\n\ttype: typeSetStatus,\n\tstatus,\n})\nexport const deletePost = postId => ({\n\ttype: typeDeletePost,\n\tpostId,\n})\n// ====================================================\n// Thunks\n\nexport const getInf = userId => dispatch => {\n\tprofileAPI.getProfileDataAPI(userId).then(data => {\n\t\tdispatch(setProfile(data))\n\t})\n}\nexport const getStatus = userId => dispatch => {\n\tprofileAPI.getStatusAPI(userId).then(data => {\n\t\tdispatch(setStatus(data))\n\t})\n}\nexport const updateStatus = status => dispatch => {\n\tprofileAPI.updateStatusAPI(status).then(data => {\n\t\tif (data.resultCode == 0) {\n\t\t\tdispatch(setStatus(status))\n\t\t} else {\n\t\t\tconsole.error(data)\n\t\t}\n\t})\n}\n// ====================================================\n// Exports\n\nexport default profileReducer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"FormsControls_component__3H5VT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRoller\":\"Loading_ldsRoller__4RXrk\"};","export function getRandomIntInclusive(min, max) {\r\n\tmin = Math.ceil(min)\r\n\tmax = Math.floor(max)\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"navbar_wrapper__3Gpey\",\"navbar\":\"navbar_navbar__3YPZp\",\"inner\":\"navbar_inner__2cECv\",\"title\":\"navbar_title__3ULvi\",\"ul\":\"navbar_ul__1Usb1\",\"li\":\"navbar_li__2c7oB\",\"link\":\"navbar_link__2G5iB\",\"active\":\"navbar_active__1kBUm\"};","// ====================================================\r\n// IMPORTS\r\n// Main\r\nimport axios from 'axios'\r\n\r\n// ====================================================\r\n// Instance\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': '71572937-80ec-4dde-adb1-d4b106a7cc21',\r\n\t},\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n})\r\n\r\n// ====================================================\r\n// Requests\r\n\r\nexport const authAPI = {\r\n\ttryLoginAPI: () => {\r\n\t\treturn instance.get(`auth/me`).then(response => response.data)\r\n\t},\r\n\tloginAPI: (email, password, rememberMe = true) => {\r\n\t\treturn instance\r\n\t\t\t.post(`auth/login`, { email, password, rememberMe })\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tlogoutAPI: () => {\r\n\t\treturn instance.delete(`auth/login`).then(response => response.data)\r\n\t},\r\n}\r\n","// ====================================================\n// IMPORTS\n// Main\nimport { authAPI } from '../api/authAPI'\nimport { stopSubmit } from 'redux-form'\n\n// ====================================================\n// Types\nconst typeSetAuthUserData = 'SET-AUTH-USER-DATA'\n\n// ====================================================\n// Initial state\n\nlet initialState = {\n\tid: null,\n\temail: null,\n\tlogin: null,\n\tisAuth: false,\n}\n\n// ====================================================\n// Reducer\n\nconst authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase typeSetAuthUserData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.data,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n// ====================================================\n// Action creators\n\nexport const setAuthUserData = (id, email, login, isAuth) => ({\n\ttype: typeSetAuthUserData,\n\tdata: { id, email, login, isAuth },\n})\nexport const tryLogin = () => dispatch => {\n\tauthAPI.tryLoginAPI().then(data => {\n\t\tif (data.resultCode === 0) {\n\t\t\tlet { id, email, login } = data.data\n\t\t\tdispatch(setAuthUserData(id, email, login, true))\n\t\t}\n\t})\n}\n\nexport const login = (email, password, rememberMe) => dispatch => {\n\tauthAPI.loginAPI(email, password, rememberMe).then(data => {\n\t\tif (data.resultCode === 0) {\n\t\t\tdebugger\n\t\t\tdispatch(tryLogin())\n\t\t} else {\n\t\t\tdispatch(\n\t\t\t\tstopSubmit('login', {\n\t\t\t\t\t_error: data.messages ? data.messages : 'some error',\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t})\n}\nexport const logout = () => dispatch => {\n\tauthAPI.logoutAPI().then(data => {\n\t\tif (data.resultCode === 0) {\n\t\t\tdispatch(setAuthUserData(null, null, null, false))\n\t\t}\n\t})\n}\n// ====================================================\n// Exports\n\nexport default authReducer\n","// ====================================================\n// IMPORTS\n// Main\nimport { tryLogin } from './authReducer'\n\n// ====================================================\n// Types\nconst typeSetInitialize = 'SET-INITIALIZE'\n\n// ====================================================\n// Initial state\n\nlet initialState = {\n\tinitialized: false,\n}\n\n// ====================================================\n// Reducer\n\nconst appReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase typeSetInitialize:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinitialized: action.boolean,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n// ====================================================\n// Action creators\n\nexport const setInitialize = boolean => ({\n\ttype: typeSetInitialize,\n\tboolean,\n})\n\nexport const initialize = () => dispatch => {\n\tlet promise = dispatch(tryLogin())\n\tPromise.all([promise]).then(() => {\n\t\tdispatch(setInitialize(true))\n\t})\n}\n// ====================================================\n// Exports\n\nexport default appReducer\n","// ====================================================\n// Imports\n// Main\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { reducer as formReducer } from 'redux-form'\n// Reducers\nimport authReducer from './authReducer'\nimport messangerReducer from './messangerReducer'\nimport profileReducer from './profileReducer'\nimport usersReducer from './usersReducer'\nimport appReducer from './appReducer'\n\n// ====================================================\n// CombineReducers\n\nlet reducers = combineReducers({\n\tmessangerPage: messangerReducer,\n\tprofilePage: profileReducer,\n\tuserPage: usersReducer,\n\tauth: authReducer,\n\tform: formReducer,\n\tapp: appReducer,\n})\n\n// ====================================================\n// Store\n\nlet store = createStore(\n\treducers,\n\tcompose(\n\t\tapplyMiddleware(thunk),\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\t)\n)\n\n// ====================================================\n// Exports\n\nexport default store\n","// ====================================================\n// IMPORTS\n// Main\nimport { NavLink } from 'react-router-dom'\n// Styles\nimport st from './navbar.module.scss'\n// Components\n\n// ====================================================\n// Component\n\nconst Navbar = () => {\n\treturn (\n\t\t<div className={st.wrapper}>\n\t\t\t<nav className={st.navbar}>\n\t\t\t\t<div className={st.inner}>\n\t\t\t\t\t<div className={st.title}>Menu</div>\n\t\t\t\t\t<ul className={st.ul}>\n\t\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tto=\"/profile\"\n\t\t\t\t\t\t\t\tclassName={st.link}\n\t\t\t\t\t\t\t\tactiveClassName={st.active}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tProfile\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tto=\"/messenger\"\n\t\t\t\t\t\t\t\tclassName={st.link}\n\t\t\t\t\t\t\t\tactiveClassName={st.active}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tMessenger\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tto=\"/users\"\n\t\t\t\t\t\t\t\tclassName={st.link}\n\t\t\t\t\t\t\t\tactiveClassName={st.active}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUsers\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t{/* <li className={st.li}>\n\t\t\t\t\t\t<a href=\"\" className={st.link}>\n\t\t\t\t\t\t\tNews\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t<a href=\"\" className={st.link}>\n\t\t\t\t\t\t\tMusic\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t<a href=\"\" className={st.link}>\n\t\t\t\t\t\t\tVideos\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t<a href=\"\" className={st.link}>\n\t\t\t\t\t\t\tGames\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={st.li}>\n\t\t\t\t\t\t<a href=\"\" className={st.link}>\n\t\t\t\t\t\t\tApps\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> */}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t</div>\n\t)\n}\n\n// ====================================================\n// Exports\n\nexport default Navbar\n","// ====================================================\n// IMPORTS\n// Styles\n\nimport st from './footer.module.scss'\n\n// ====================================================\n// Component\n\nconst Footer = () => {\n\treturn (\n\t\t<footer className={st.footer}>\n\t\t\t<a href=\"#\" className={st.author}>\n\t\t\t\tZahar\n\t\t\t</a>\n\t\t</footer>\n\t)\n}\n\n// ====================================================\n// Exports\n\nexport default Footer\n","// ====================================================\n// IMPORTS\n// Main\nimport { NavLink } from 'react-router-dom'\n// Styles\nimport st from './header.module.scss'\n\n// ====================================================\n// Component\n\nconst Header = props => {\n\treturn (\n\t\t<header className={st.header}>\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className={st.inner}>\n\t\t\t\t\t<div className={st.logo}>online</div>\n\t\t\t\t\t<div className={st.auth}>\n\t\t\t\t\t\t{props.isAuth ? (\n\t\t\t\t\t\t\t<button onClick={props.logout}>logout</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<NavLink to=\"/login\">login</NavLink>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t)\n}\n\n// ====================================================\n// Exports\n\nexport default Header\n","// ====================================================\r\n// IMPORTS\r\n// Main\r\nimport { connect } from 'react-redux'\r\n// Components\r\nimport Header from './header'\r\n// Reducers\r\nimport { logout } from '../../redux/authReducer'\r\n\r\n// ====================================================\r\n// MSTP & MDTP\r\n\r\nlet mapStateToProps = state => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n})\r\n\r\n// ====================================================\r\n// Connect & withRouter\r\n\r\nconst HeaderContainer = connect(mapStateToProps, { logout })(Header)\r\n\r\n// ====================================================\r\n// Exports\r\n\r\nexport default HeaderContainer\r\n","// ====================================================\r\n// IMPORTS\r\n// Main\r\nimport { Field, reduxForm } from 'redux-form'\r\n// Styles\r\nimport st from './loginForm.module.scss'\r\n// Components\r\nimport { Element } from '../../common/FormsControls/FormsControls'\r\nconst Input = Element('input')\r\n// ====================================================\r\n// Component\r\n\r\nconst LoginFormWithoutRedux = props => {\r\n\treturn (\r\n\t\t<form className={st.form} onSubmit={props.handleSubmit}>\r\n\t\t\t<Field\r\n\t\t\t\ttype={'email'}\r\n\t\t\t\tplaceholder={'email'}\r\n\t\t\t\tname={'email'}\r\n\t\t\t\tcomponent={Input}\r\n\t\t\t/>\r\n\t\t\t<Field\r\n\t\t\t\ttype={'password'}\r\n\t\t\t\tplaceholder={'password'}\r\n\t\t\t\tname={'password'}\r\n\t\t\t\tcomponent={Input}\r\n\t\t\t/>\r\n\t\t\t<button>login</button>\r\n\t\t\t{props.error && <span className={st.span}> {props.error} </span>}\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst LoginForm = reduxForm({\r\n\tform: 'login',\r\n})(LoginFormWithoutRedux)\r\n// ====================================================\r\n// Exports\r\n\r\nexport default LoginForm\r\n","// ====================================================\r\n// IMPORTS\r\n// Main\r\n// Styles\r\nimport { Redirect } from 'react-router-dom'\r\nimport st from './login.module.scss'\r\n// Components\r\nimport LoginForm from './loginForm/loginForm'\r\n\r\n// ====================================================\r\n// Component\r\nconst Login = props => {\r\n\tconst onSubmit = formData => {\r\n\t\tprops.login(formData.email, formData.password, true)\r\n\t}\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={'/profile'} />\r\n\t}\r\n\treturn (\r\n\t\t<section className={st.login}>\r\n\t\t\t<h2>Login</h2>\r\n\t\t\t<div className={st.form}>\r\n\t\t\t\t<LoginForm onSubmit={onSubmit} />\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t)\r\n}\r\n// ====================================================\r\n// Exports\r\n\r\nexport default Login\r\n","// ====================================================\r\n// IMPORTS\r\n// Main\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\n// Components\r\nimport Login from './login'\r\n// Reducers\r\nimport { login } from '../../redux/authReducer'\r\n\r\n// ====================================================\r\n// MSTP & MDTP\r\n\r\nlet mapStateToProps = state => ({\r\n\tisAuth: state.auth.isAuth,\r\n})\r\n\r\n// ====================================================\r\n// Compose\r\n\r\nexport default compose(connect(mapStateToProps, { login }))(Login)\r\n","// ====================================================\n// IMPORTS\n// Main\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { BrowserRouter, Route, Router, Switch } from 'react-router-dom'\nimport { initialize } from './redux/appReducer'\nimport { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport React, { Suspense, lazy } from 'react'\n// Styles\nimport './scss/#zeroing.scss'\nimport './scss/style.scss'\nimport './scss/common-styles.scss'\n// Components\nimport Navbar from './components/navbar/navbar'\nimport Footer from './components/footer/footer'\nimport HeaderContainer from './components/header/headerContainer'\nimport LoginContainer from './components/login/loginContainer'\nimport Loading from './components/common/Loading/Loading'\n// Pages components\nconst UsersContainer = React.lazy(() =>\n\timport('./components/users/usersContainer')\n)\nconst ProfileContainer = React.lazy(() =>\n\timport('./components/profile/profileContainer')\n)\nconst MessengerContainer = React.lazy(() =>\n\timport('./components/messenger/messengerContainer')\n)\n\n// ====================================================\n// Component\n\nconst App = props => {\n\tuseEffect(() => {\n\t\tprops.initialize()\n\t}, [])\n\n\tif (!props.initialized) {\n\t\treturn <Loading />\n\t} else {\n\t\treturn (\n\t\t\t<BrowserRouter>\n\t\t\t\t{!props.isAuth ? (\n\t\t\t\t\t<LoginContainer />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t\t<div className=\"container flex\">\n\t\t\t\t\t\t\t<Navbar />\n\n\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\tpath=\"/profile/:userId?\"\n\t\t\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t\t\t<ProfileContainer key={window.location.pathname} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\tpath=\"/messenger\"\n\t\t\t\t\t\t\t\t\t\trender={() => <MessengerContainer />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Route path=\"/users\" render={() => <UsersContainer />} />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</BrowserRouter>\n\t\t)\n\t}\n}\n\nlet mapStateToProps = state => ({\n\tisAuth: state.auth.isAuth,\n\tinitialized: state.app.initialized,\n})\n\n// const App = props => {\n// \tuseEffect(() => {\n// \t\tprops.initialize()\n// \t}, [])\n// \tif (!props.initialized) {\n// \t\treturn <Loading />\n// \t}\n// \treturn (\n// \t\t<BrowserRouter>\n// \t\t\t<Switch>\n// \t\t\t\t<Route path=\"/login\" render={() => <LoginContainer />} />\n// \t\t\t\t<Route render={() => <AppWithLogin />} />\n// \t\t\t</Switch>\n// \t\t</BrowserRouter>\n// \t)\n// }\n\n// const AppWithLogin = () => {\n// \treturn (\n// \t\t<>\n// \t\t\t<HeaderContainer />\n// \t\t\t<div className=\"container flex\">\n// \t\t\t\t<Navbar />\n\n// \t\t\t\t<Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\n// \t\t\t\t<Route path=\"/messenger\" render={() => <MessengerContainer />} />\n// \t\t\t\t<Route path=\"/users\" render={() => <UsersContainer />} />\n// \t\t\t</div>\n// \t\t\t<Footer />\n// \t\t</>\n// \t)\n// }\n// ====================================================\n// Exports\n\nexport default connect(mapStateToProps, { initialize })(App)\n","// ====================================================\n// IMPORTS\n// Main\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\n// Components\nimport App from './App'\n\n// ====================================================\n// Component\n\nfunction rerender() {\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t)\n}\nrerender()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_lock\":\"header__lock__3wazm\",\"header\":\"header_header__2ptqB\",\"inner\":\"header_inner__2inYj\",\"logo\":\"header_logo__6c870\",\"auth\":\"header_auth__yj7ZC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__12wNG\",\"author\":\"footer_author__dc7O7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__JgOAf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"loginForm_form__3gmQ-\",\"span\":\"loginForm_span__3BE06\"};","// ====================================================\r\n// IMPORTS\r\n// Main\r\nimport axios from 'axios'\r\n\r\n// ====================================================\r\n// Instance\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': '71572937-80ec-4dde-adb1-d4b106a7cc21',\r\n\t},\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n})\r\n\r\n// ====================================================\r\n// Requests\r\n\r\nexport const usersAPI = {\r\n\tgetUsersAPI: i => {\r\n\t\treturn instance.get(`users?page=${i}`).then(response => response.data)\r\n\t},\r\n\ttoggleFollowAPI: (id, nextFollowState) => {\r\n\t\tif (nextFollowState) {\r\n\t\t\treturn instance.post(`follow/${id}`).then(response => response.data)\r\n\t\t} else {\r\n\t\t\treturn instance.delete(`follow/${id}`).then(response => response.data)\r\n\t\t}\r\n\t},\r\n}\r\n","// ====================================================\n// IMPORTS\n// Main\nimport { usersAPI } from '../api/usersAPI'\n\n// ====================================================\n// Types\n\nconst typeSetUsers = 'SET-USERS'\nconst typeSetUsersIsFetching = 'SET-USERS-IS-FETCHING'\nconst typeSetFollowingIsFetching = 'SET-FOLLOWING-IS-FETCHING'\nconst typeToggleFollowState = 'TOGGLE-FOLLOWING-STATE'\n\n// ====================================================\n// Initial state\n\nlet initialState = {\n\tusers: [],\n\tusersIsFetching: false,\n\tfollowingIsFetching: [],\n}\n\n// ====================================================\n// Reducer\n\nconst usersReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase typeToggleFollowState:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: state.users.map(user => {\n\t\t\t\t\tif (user.id === action.id) {\n\t\t\t\t\t\treturn { ...user, followed: action.nextFollowState }\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn user\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\tcase typeSetUsers:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: [...state.users, ...action.users],\n\t\t\t}\n\n\t\tcase typeSetUsersIsFetching:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetchingData: action.boolean,\n\t\t\t}\n\n\t\tcase typeSetFollowingIsFetching:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttypeSetFollowingIsFetching: action.followingIsFetching\n\t\t\t\t\t? [...state.followingIsFetching, action.id]\n\t\t\t\t\t: state.followingIsFetching.filter(id => id != action.id),\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n// ====================================================\n// Action creators\n\nexport const toggleFollowStateSuccess = (id, nextFollowState) => ({\n\ttype: typeToggleFollowState,\n\tid,\n\tnextFollowState,\n})\nexport const setUsers = users => ({ type: typeSetUsers, users })\nexport const setUsersIsFetching = boolean => ({\n\ttype: typeSetUsersIsFetching,\n\tboolean,\n})\nexport const setFollowingIsFetching = (boolean, id) => ({\n\ttype: typeSetFollowingIsFetching,\n\tboolean,\n\tid,\n})\n\n// ====================================================\n// Thunks\nexport const getUsers = i => dispatch => {\n\tdispatch(setUsersIsFetching(true))\n\tusersAPI.getUsersAPI(i).then(data => {\n\t\tdispatch(setUsersIsFetching(false))\n\t\tdispatch(setUsers(data.items))\n\t})\n}\nexport const toggleFollowState =\n\t(userId, nextFollowState) => async dispatch => {\n\t\tdispatch(setFollowingIsFetching(true, userId))\n\n\t\tlet data = await usersAPI.toggleFollowAPI(userId, nextFollowState)\n\n\t\tif (data.resultCode === 0) {\n\t\t\tdispatch(toggleFollowStateSuccess(userId, nextFollowState))\n\t\t\tdispatch(setFollowingIsFetching(false, userId))\n\t\t}\n\t}\n\n// ====================================================\n// Exports\n\nexport default usersReducer\n","// ====================================================\n// IMPORTS\n// Main\n// ====================================================\n// Types\n\nconst typeSendMessage = 'SEND-MESSAGE'\n\n// ====================================================\n// Initial state\n\nlet initialState = {\n\tdialogsLinksData: [\n\t\t{ name: 'name - 1', id: 1 },\n\t\t{ name: 'name - 2', id: 2 },\n\t\t{ name: 'na', id: 3 },\n\t\t{ name: 'name - 4', id: 4 },\n\t],\n\tmessages: [\n\t\t{ content: 'messages', id: 1, time: '0:36' },\n\t\t{ content: 'messages', id: 1, time: '0:08' },\n\t],\n}\n\n// ====================================================\n// Reducer\n\nconst messangerReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase typeSendMessage:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [\n\t\t\t\t\t...state.messages,\n\t\t\t\t\t{ ...action.message, id: 2, time: '0:82' },\n\t\t\t\t],\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n// ====================================================\n// Action creators\n\nexport const sendMessage = message => ({ type: typeSendMessage, message })\n\n// ====================================================\n// Exports\n\nexport default messangerReducer\n"],"sourceRoot":""}