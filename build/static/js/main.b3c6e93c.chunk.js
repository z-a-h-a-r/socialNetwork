(this.webpackJsonp007=this.webpackJsonp007||[]).push([[0],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5),r=n(125),c=n(126),i=n.n(c),o=n(1),s=["input","meta"],u=function(e){return function(t){var n=t.input,c=t.meta,u=Object(r.a)(t,s);c.error;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(e,Object(a.a)(Object(a.a)(Object(a.a)({},n),u),{},{className:i.a.component}))})}}},116:function(e,t,n){"use strict";var a=n(128),r=n.n(a),c=n(1);t.a=function(e){return Object(c.jsxs)("div",{className:r.a.ldsRoller,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return x}));var a=n(27),r=n(5),c=n(32),i=n.n(c).a.create({withCredentials:!0,headers:{"API-KEY":"71572937-80ec-4dde-adb1-d4b106a7cc21"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),o=function(e){return i.get("profile/".concat(e)).then((function(e){return e.data}))},s=function(e){return i.get("profile/status/".concat(e)).then((function(e){return e.data}))},u=function(e){return i.put("profile/status",{status:e}).then((function(e){return e.data}))},l=(n(129),"CREATE-POST"),d="SET-PROFILE",j="SET-STATUS",b="DELETE-POST",f={profile:{photos:{}},postsData:[{content:"TEST",sharedCount:0,commentsCount:0,postId:Date.now()}]},h=function(e){return{type:l,content:e}},O=function(e){return{type:j,status:e}},p=function(e){return{type:b,postId:e}},m=function(e){return function(t){o(e).then((function(e){t({type:d,profile:e})}))}},g=function(e){return function(t){s(e).then((function(e){t(O(e))}))}},x=function(e){return function(t){u(e).then((function(n){0==n.resultCode?t(O(e)):console.error(n)}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(r.a)(Object(r.a)({},e),{},{postsData:[].concat(Object(a.a)(e.postsData),[Object(r.a)(Object(r.a)({},t.content),{},{sharedCount:0,commentsCount:0,postId:Date.now()})])});case d:return Object(r.a)(Object(r.a)(Object(r.a)({},e),e.profile),{},{profile:t.profile});case j:return Object(r.a)(Object(r.a)({},e),{},{profile:Object(r.a)(Object(r.a)({},e.profile),{},{aboutMe:t.status})});case b:return Object(r.a)(Object(r.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.postId!=t.postId}))});default:return e}}},126:function(e,t,n){e.exports={component:"FormsControls_component__3H5VT"}},128:function(e,t,n){e.exports={ldsRoller:"Loading_ldsRoller__4RXrk"}},129:function(e,t,n){"use strict";function a(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}n.d(t,"a",(function(){return a}))},13:function(e,t,n){e.exports={wrapper:"navbar_wrapper__3Gpey",navbar:"navbar_navbar__3YPZp",inner:"navbar_inner__2cECv",title:"navbar_title__3ULvi",ul:"navbar_ul__1Usb1",li:"navbar_li__2c7oB",link:"navbar_link__2G5iB",active:"navbar_active__1kBUm"}},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(55),i=n.n(c),o=n(9),s=n(121),u=n(119),l=n(5),d=n(32),j=n.n(d).a.create({withCredentials:!0,headers:{"API-KEY":"71572937-80ec-4dde-adb1-d4b106a7cc21"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),b=function(){return j.get("auth/me").then((function(e){return e.data}))},f=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return j.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},h=function(){return j.delete("auth/login").then((function(e){return e.data}))},O=n(46),p="SET-AUTH-USER-DATA",m={id:null,email:null,login:null,isAuth:!1},g=function(e,t,n,a){return{type:p,data:{id:e,email:t,login:n,isAuth:a}}},x=function(){return function(e){b().then((function(t){if(0===t.resultCode){var n=t.data,a=n.id,r=n.email,c=n.login;e(g(a,r,c,!0))}}))}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(l.a)(Object(l.a)({},e),t.data);default:return e}},v=n(93),w=n(120),E=n(84),N="SET-INITIALIZE",S={initialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(l.a)(Object(l.a)({},e),{},{initialized:t.boolean});default:return e}},T=Object(o.c)({messangerPage:v.a,profilePage:w.b,userPage:E.a,auth:_,form:u.a,app:I}),y=Object(o.e)(T,Object(o.d)(Object(o.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),A=n(17),C=(n(243),n(22)),F=n(10),k=(n(244),n(245),n(246),n(13)),L=n.n(k),D=n(1),R=function(){return Object(D.jsx)("div",{className:L.a.wrapper,children:Object(D.jsx)("nav",{className:L.a.navbar,children:Object(D.jsxs)("div",{className:L.a.inner,children:[Object(D.jsx)("div",{className:L.a.title,children:"Menu"}),Object(D.jsxs)("ul",{className:L.a.ul,children:[Object(D.jsx)("li",{className:L.a.li,children:Object(D.jsx)(C.b,{exact:!0,to:"/profile",className:L.a.link,activeClassName:L.a.active,children:"Profile"})}),Object(D.jsx)("li",{className:L.a.li,children:Object(D.jsx)(C.b,{exact:!0,to:"/messenger",className:L.a.link,activeClassName:L.a.active,children:"Messenger"})}),Object(D.jsx)("li",{className:L.a.li,children:Object(D.jsx)(C.b,{exact:!0,to:"/users",className:L.a.link,activeClassName:L.a.active,children:"Users"})})]})]})})})},U=n(78),P=n.n(U),z=function(){return Object(D.jsx)("footer",{className:P.a.footer,children:Object(D.jsx)("a",{href:"#",className:P.a.author,children:"Zahar"})})},G=n(45),M=n.n(G),B=function(e){return Object(D.jsx)("header",{className:M.a.header,children:Object(D.jsx)("div",{className:"container",children:Object(D.jsxs)("div",{className:M.a.inner,children:[Object(D.jsx)("div",{className:M.a.logo,children:"online"}),Object(D.jsx)("div",{className:M.a.auth,children:e.isAuth?Object(D.jsx)("button",{onClick:e.logout,children:"logout"}):Object(D.jsx)(C.b,{to:"/login",children:"login"})})]})})})},X=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){h().then((function(t){0===t.resultCode&&e(g(null,null,null,!1))}))}}})(B),Y=n(79),H=n.n(Y),Z=n(117),J=n(118),K=n(80),V=n.n(K),W=n(105),q=Object(W.a)("input"),Q=Object(J.a)({form:"login"})((function(e){return Object(D.jsxs)("form",{className:V.a.form,onSubmit:e.handleSubmit,children:[Object(D.jsx)(Z.a,{type:"email",placeholder:"email",name:"email",component:q}),Object(D.jsx)(Z.a,{type:"password",placeholder:"password",name:"password",component:q}),Object(D.jsx)("button",{children:"login"}),e.error&&Object(D.jsxs)("span",{className:V.a.span,children:[" ",e.error," "]})]})})),$=function(e){return e.isAuth?Object(D.jsx)(F.a,{to:"/profile"}):Object(D.jsxs)("section",{className:H.a.login,children:[Object(D.jsx)("h2",{children:"Login"}),Object(D.jsx)("div",{className:H.a.form,children:Object(D.jsx)(Q,{onSubmit:function(t){e.login(t.email,t.password,!0)}})})]})},ee=Object(o.d)(Object(A.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(a){f(e,t,n).then((function(e){0===e.resultCode?a(x()):a(Object(O.a)("login",{_error:e.messages?e.messages:"some error"}))}))}}}))($),te=n(116),ne=r.a.lazy((function(){return n.e(5).then(n.bind(null,305))})),ae=r.a.lazy((function(){return n.e(4).then(n.bind(null,306))})),re=r.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),ce=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,initialized:e.app.initialized}}),{initialize:function(){return function(e){var t=e(x());Promise.all([t]).then((function(){e({type:N,boolean:!0})}))}}})((function(e){return Object(a.useEffect)((function(){e.initialize()}),[]),e.initialized?Object(D.jsx)(C.a,{children:e.isAuth?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(X,{}),Object(D.jsxs)("div",{className:"container flex",children:[Object(D.jsx)(R,{}),Object(D.jsx)(a.Suspense,{fallback:Object(D.jsx)("div",{children:"Loading..."}),children:Object(D.jsxs)(F.d,{children:[Object(D.jsx)(F.b,{path:"/profile/:userId?",render:function(){return Object(D.jsx)(ae,{},window.location.pathname)}}),Object(D.jsx)(F.b,{path:"/messenger",render:function(){return Object(D.jsx)(re,{})}}),Object(D.jsx)(F.b,{path:"/users",render:function(){return Object(D.jsx)(ne,{})}})]})})]}),Object(D.jsx)(z,{})]}):Object(D.jsx)(ee,{})}):Object(D.jsx)(te.a,{})}));i.a.render(Object(D.jsx)(A.a,{store:y,children:Object(D.jsx)(ce,{})}),document.getElementById("root"))},45:function(e,t,n){e.exports={_lock:"header__lock__3wazm",header:"header_header__2ptqB",inner:"header_inner__2inYj",logo:"header_logo__6c870",auth:"header_auth__yj7ZC"}},78:function(e,t,n){e.exports={footer:"footer_footer__12wNG",author:"footer_author__dc7O7"}},79:function(e,t,n){e.exports={login:"login_login__JgOAf"}},80:function(e,t,n){e.exports={form:"loginForm_form__3gmQ-",span:"loginForm_span__3BE06"}},84:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return _}));var a=n(75),r=n.n(a),c=n(122),i=n(27),o=n(5),s=n(32),u=n.n(s).a.create({withCredentials:!0,headers:{"API-KEY":"71572937-80ec-4dde-adb1-d4b106a7cc21"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),l=function(e){return u.get("users?page=".concat(e)).then((function(e){return e.data}))},d=function(e,t){return t?u.post("follow/".concat(e)).then((function(e){return e.data})):u.delete("follow/".concat(e)).then((function(e){return e.data}))},j="SET-USERS",b="SET-USERS-IS-FETCHING",f="SET-FOLLOWING-IS-FETCHING",h="TOGGLE-FOLLOWING-STATE",O={users:[],usersIsFetching:!1,followingIsFetching:[]},p=function(e,t){return{type:h,id:e,nextFollowState:t}},m=function(e){return{type:b,boolean:e}},g=function(e,t){return{type:f,boolean:e,id:t}},x=function(e){return function(t){t(m(!0)),l(e).then((function(e){var n;t(m(!1)),t((n=e.items,{type:j,users:n}))}))}},_=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(g(!0,e)),n.next=3,d(e,t);case 3:0===n.sent.resultCode&&(a(p(e,t)),a(g(!1,e)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),{},{followed:t.nextFollowState}):e}))});case j:return Object(o.a)(Object(o.a)({},e),{},{users:[].concat(Object(i.a)(e.users),Object(i.a)(t.users))});case b:return Object(o.a)(Object(o.a)({},e),{},{isFetchingData:t.boolean});case f:return Object(o.a)(Object(o.a)({},e),{},{typeSetFollowingIsFetching:t.followingIsFetching?[].concat(Object(i.a)(e.followingIsFetching),[t.id]):e.followingIsFetching.filter((function(e){return e!=t.id}))});default:return e}}},93:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(27),r=n(5),c="SEND-MESSAGE",i={dialogsLinksData:[{name:"name - 1",id:1},{name:"name - 2",id:2},{name:"na",id:3},{name:"name - 4",id:4}],messages:[{content:"messages",id:1,time:"0:36"},{content:"messages",id:1,time:"0:08"}]},o=function(e){return{type:c,message:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[Object(r.a)(Object(r.a)({},t.message),{},{id:2,time:"0:82"})])});default:return e}}}},[[290,1,2]]]);
//# sourceMappingURL=main.b3c6e93c.chunk.js.map